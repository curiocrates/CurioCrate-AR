<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Interactive Cube on Camera Feed</title>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aframe-orbit-controls-component@1.3.0/dist/aframe-orbit-controls-component.min.js"></script>
</head>
<body style="margin:0; overflow:hidden;">

<a-scene embedded vr-mode-ui="enabled: false">

  <!-- Camera feed as background -->
  <a-assets>
    <video id="camVideo" autoplay playsinline webkit-playsinline></video>
  </a-assets>

  <a-sky src="#camVideo"></a-sky>

  <!-- Interactive Cube -->
  <a-box id="cube"
         position="0 1 -1"
         rotation="0 45 0"
         width="0.2" height="0.2" depth="0.2"
         color="gold"
         orbit-controls="target: 0 1 -1; enableDamping: true; dampingFactor:0.1; rotateSpeed:0.8; zoomSpeed:0.8; minDistance:0.3; maxDistance:2">
  </a-box>

  <!-- Camera -->
  <a-entity camera position="0 1.6 0"></a-entity>

</a-scene>

<script>
  // Access rear camera
  const video = document.querySelector("#camVideo");
  navigator.mediaDevices.getUserMedia({ video: { facingMode: "environment" }, audio: false })
    .then(stream => { video.srcObject = stream; })
    .catch(err => { alert("Camera error: " + err); });
</script>

</body>
</html>
